language: java
dist: trusty
jdk:
- openjdk8
env:
  global:
  - secure: "PjcPPdtMVh3ifsY9lATiD+/uowPC341Dqons76qVE60xZLK/zG1Q1LaYXr29JWbwtesWTQDUmAb7w5NMe8x7C+MVqt1cgtqPv9q+fJM8QHq9jY+O4E2HyNZTSBMoN6enaJpjEst7oBN5qftuARm6WChhLWxF5cFCqCkVXmu24U4+Qirx9UyGrz1VfxDq5a8nNJw+ZaM5RiLttuaZKl/xOhd9w/Y/07HAFT2tT/8T4b+w8cj98TISOA0/BwZiDTMAjtV7x5sEO8U4vrFVjZCprbRYgMAkLejOviNA237LUfvvXpKq2DypLGnmnTyL0NM+iKOcaiUGleQGIb+AVBhXG+uPgPQNlTYspMP7+BsZyMH/MvTADi538qt7Dv0/vFAo9Q+a+Ie3sIjB+8S9WGkBINX4YkkMCjY0C4NZgAyN+mWxgWDA7K3sF7RgPS3GcOKa8ZJoTozoyfE+Cp7oY4/tXEoPCRaPscAb4TO42kRuq0QScOCjnjJ5Hb2Wxpq+4f2YBWatXNybK1usFFBMWNpIprqT7JZqBhDyUndmr88zSQrba7xDNG+y/tAYvbaeZs1E321TdeXeIzJBE4OLvAlzDsNefmLfqEVjy1gJBWxhbmFyEJ7PNR9WRjLyPThSOZL49XKtaHogtGomM7SlupB4ctAhqNbtMjocPbzxfb2bKCQ="
  - secure: "gkgAzEff1+NpM6Acxp3kMeg5rSs6YtRkWvD9LpH7Tjw+ddzWYq8UvQMJEzVdpRTXVvEAfe3ksoYk3sOSItaeONbqXNL9js2MMrLgfS+i3el8WA/coY+aN8dGYzWLHLtcKVrPKK0SLy6xh31yfH3T/+GJM7r95MoUT1+sqaWhtQk/weF0bRJ5sppNwVBsssdK20fGvua5Fl7gNDJsBPDETW3lQjzFeZhSDraxgS3vlNrrhdzgMCBwByVfmUBCPZaiDN7OgzkJnANl39daKu7nUP8KImtf9+ZIS4T+V2qg/AIlRIwxINVrsa2cJNIuPU3/yjkuqRu/AgttkVj+cojJyGeXor3zTBY1au9zzFyXNr+Btzbok3ZdX7GjPZz2YDA51v+fQr7oa9rinp0pZkuZ7mLiA7dRTmh0F0uyGEjI2LRQ+3G4vmcqSUMRY8XZck57UTHXMy8GpXLb5VhotVvMQ7ZwDeC+oEis1+eNAEcBMv+vIa7nXGenl5zyyOJitUOPhYmUatvBCeRid4obBFgnEnJPrqwh9vDmswxXsMoeST02Cb06IeP+8UbG+QPMhH7iqnikGFNt+oeaG7St9tExm6zDjWKnjx4JSXGnowQ5wwbOsfyTNEnevKSGSaRdMt77i5tlX9FUi4X1/VMdzCosXy7vwEQqMcI3AZ6tWfuCEcA="
  - secure: "fpq8AuMvcTkcUu7lw5UVmXANkr9vjXMGE9zdDxaJzhNxu2ho/+aqhZkQa0fkAQA5d6o47EFMTZ37u8PRRbmNBMLMwnWr/Q9WK2QfLgGEw/tO6MEVlllQEZF80Ig+JM1nMThVqmAt53zrglogvy774ORbF+qJXzJQkfO73gxntWtA1znsJkSMmJdAhS+jPoddIhNM4hptX1DtUhbV/hoMdJfMKWoDMrvQQaqvPKGiNgmk1yimXNW02I2ztvw4JMlLbH5pGkc6I1W9UjgNm/7RRtmraHYmWl3UeWJp0s3FLrkhTh/69Nk+rIEiG5DUc5+zAT1WaqgDqdLS+LOmDjVQ4YExilZJuYUDJ5JFsoXaU5L52XYWIw3BvAnn3fH1AuEs8WhLFBygUQ6RlbZZBSZKR3GqsIyTBr2xnMESGGpNLwmOjJIDqFNDtspyM4w+ftKgdVYtuxScP50orsXddHZlGYefKnJpiBXug9wAD1gG/RYRMY6TTHGfy6oTgjkh9q2xchoDkPSXWZjqs332X8E1A7S6l0Sfx/MGw4BcPG9Q/HeWmu4dFHDy5VX5e2ScHxfNvVpv8yS2OMjmXPY+t1NJIsmW9SXzxu1ldvR8so+0bbEpHQHAqespAqH6kct0aZbW/57StPhUb/6IxXVnMMDfugJIoN6APThPqLLdnDi0ZeY="
cache:
  directories:
  - "$HOME/.m2"
install: mvn clean install -DskipTests=true -V -U
script: mvn test
after_success:
- if [[ $TRAVIS_PULL_REQUEST == "false" && ($TRAVIS_BRANCH == "master" || $TRAVIS_TAG)
  ]]; then openssl aes-256-cbc -K $encrypted_6e7762cc7800_key -iv $encrypted_6e7762cc7800_iv
  -in gpg.tar.gz.enc -out gpg.tar.gz -d; tar xvf gpg.tar.gz; mvn source:jar javadoc:jar
  deploy -Pdeploy -DskipTests=true --settings ./settings.xml; fi
